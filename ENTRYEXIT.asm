ORG 00H
MOV R0,#0
CLR A
MOV P1,A
MOV P2,A
L5: JNB P1.2,L2
JB P1.4,L5
INC R0
MOV P2,R0
SJMP L4
L2: JNB P1.4,L5
CJNE R0,#0,L8
SJMP L5
L8: DEC R0
MOV P2,R0
SJMP L4
L4: MOV r2,#255
L3: MOV R1,#255
L1: djnz R1,L1
DJNZ R2,L3
 noP
SJMP L5
END